% Template for a Computer Science Tripos Part II project dissertation
\documentclass[12pt,a4paper,twoside,openright]{report}
\usepackage[pdfborder={0 0 0}]{hyperref}    % turns references into hyperlinks
\usepackage[margin=25mm]{geometry}  % adjusts page layout
\usepackage{graphicx}  % allows inclusion of PDF, PNG and JPG images
\usepackage[export]{adjustbox}
\usepackage{verbatim}
\usepackage{listings}
\usepackage{courier}
\usepackage{dirtree}
\usepackage{algpseudocode}
\usepackage{array}
\usepackage{algorithm}
\usepackage{multirow}
\usepackage{color}
\usepackage{docmute}   % only needed to allow inclusion of proposal.tex
\usepackage{cleveref}
\crefformat{section}{\S#2#1#3} % see manual of cleveref, section 8.2.1
\crefformat{subsection}{\S#2#1#3}
\crefformat{subsubsection}{\S#2#1#3}

\edef\restoreparindent{\parindent=\the\parindent\relax}
\usepackage{parskip}
\restoreparindent

\usepackage{subfiles} % To separate my dissertation out into seperate tex files
\graphicspath{{figs/}{../figs/}} % Specify the grahpics paths

\raggedbottom                           % try to avoid widows and orphans
\sloppy
\clubpenalty1000%
\widowpenalty1000%

\renewcommand{\baselinestretch}{1.1}    % adjust line spacing to make
                                        % more readable
\algnewcommand\And{\textbf{and}}

\definecolor{mygreen}{rgb}{0,0.6,0}
\definecolor{mygray}{rgb}{0.5,0.5,0.5}
\definecolor{mymauve}{rgb}{0.58,0,0.82}
\lstset{frame=single, 
numbers=left, 
basicstyle=\footnotesize\ttfamily,
commentstyle=\color{mygreen},    % comment style
keywordstyle=\color{blue},       % keyword style
numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
stringstyle=\color{mymauve},     % string literal style
captionpos=b}

\begin{document}

\bibliographystyle{plain}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Title


\pagestyle{empty}

\rightline{\LARGE \textbf{Jamie Davenport}}

\vspace*{60mm}
\begin{center}
\LARGE
\textbf{Generational Garbage Collection in C} \\[5mm]
Computer Science Tripos -- Part II \\[5mm]
Trinity College \\[5mm]
\today  % today's date
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Proforma, table of contents and list of figures

\pagestyle{plain}

\chapter*{Proforma}

{\large
\begin{tabular}{ll}
Name:               & \bf Jamie Davenport                       \\
College:            & \bf Trinity College                     \\
Project Title:      & \bf Generational Garbage Collection in C \\
Examination:        & \bf Computer Science Tripos -- Part II, July 2018  \\
Approx. Word Count:         & \bf 11,623  \\
Project Originator: & Dr Timothy Jones                    \\
Supervisor:         & Dr Timothy Jones                    \\ 
\end{tabular}
}


\section*{Original Aims of the Project}

To produce a garbage collector for C which provides methods that replace the standard malloc and free so that inaccessible memory is automatically freed. The garbage collector should use a conservative generational algorithm which never collects a live object. It should consider registers and the stack as the root set. It should treat any object accessible from the root set as live and any other objects as garbage (assuming they were created using the garbage collector malloc).


\section*{Work Completed}

The work completed has culminated in a conservative generational garbage collector for the C programming language. Conservative allows it to work in uncooperative environments where there is no support from the user code or the compiler. The generational algorithm aims to reduce the pause times of the mark and sweep collector which is useful for certain types of application. I have shown through the use of unit testing and benchmarking that the solution meets the core success criteria. An extension to the project to make the garbage collector thread-safe has also been completed. Overall it is fair to say that the project has exceeded my expectations.

\section*{Special Difficulties}

None
 
\newpage
\section*{Declaration}

I, Jamie Davenport of Trinity College, being a candidate for Part II of the Computer
Science Tripos, hereby declare
that this dissertation and the work described in it are my own work,
unaided except as may be specified below, and that the dissertation
does not contain material that has already been used to any substantial
extent for a comparable purpose.

\bigskip
\leftline{Signed Jamie Davenport}

\medskip
\leftline{Date \today}

\tableofcontents

\listoffigures

\newpage
\section*{Acknowledgements} 

I would like to thank Dr.~Timothy Jones for supervising this project and for always being available for feedback, support and advice.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% now for the chapters

\pagestyle{headings}

\chapter{Introduction} \label{introduction}
\subfile{Introduction/introduction}

\chapter{Preparation}
\subfile{Preparation/preparation}

\chapter{Implementation}
\subfile{Implementation/implementation}

\chapter{Evaluation} \label{cpt:eval}
\subfile{Evaluation/evaluation}

\chapter{Conclusion} 
\subfile{Conclusion/conclusion}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% the bibliography
\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{refs}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% the appendices
\appendix

%\chapter{Latex source}

%\section{diss.tex}
%{\scriptsize\verbatiminput{diss.tex}}

%\section{proposal.tex}
%{\scriptsize\verbatiminput{proposal.tex}}

%\chapter{Makefile}

%\section{makefile}\label{makefile}
%{\scriptsize\verbatiminput{makefile.txt}}

%\section{refs.bib}
%{\scriptsize\verbatiminput{refs.bib}}


\chapter{Project Proposal}
\label{appendix:initialproposal}

\input{proposal}

\end{document}
